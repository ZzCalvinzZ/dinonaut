(this.webpackJsonpdinonaut=this.webpackJsonpdinonaut||[]).push([[0],{104:function(e,t,i){e.exports=i(212)},109:function(e,t,i){},110:function(e,t,i){},212:function(e,t,i){"use strict";i.r(t);var n=i(18),s=i.n(n),r=i(102),o=i.n(r),a=(i(109),i(110),i(19)),h=i(13),c=i(3),l=i(4),d=i(0),f=i(103),u=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;if(Object(c.a)(this,e),void 0===t)throw new Error("Please assign a rendering engine in the constructor before using bump.js");this.renderer="pixi"}return Object(l.a)(e,[{key:"addCollisionProperties",value:function(e){"pixi"===this.renderer&&(void 0===e.gx&&Object.defineProperty(e,"gx",{get:function(){return e.getGlobalPosition().x},enumerable:!0,configurable:!0}),void 0===e.gy&&Object.defineProperty(e,"gy",{get:function(){return e.getGlobalPosition().y},enumerable:!0,configurable:!0}),void 0===e.centerX&&Object.defineProperty(e,"centerX",{get:function(){return e.x+e.width/2},enumerable:!0,configurable:!0}),void 0===e.centerY&&Object.defineProperty(e,"centerY",{get:function(){return e.y+e.height/2},enumerable:!0,configurable:!0}),void 0===e.halfWidth&&Object.defineProperty(e,"halfWidth",{get:function(){return e.width/2},enumerable:!0,configurable:!0}),void 0===e.halfHeight&&Object.defineProperty(e,"halfHeight",{get:function(){return e.height/2},enumerable:!0,configurable:!0}),void 0===e.xAnchorOffset&&Object.defineProperty(e,"xAnchorOffset",{get:function(){return void 0!==e.anchor?e.width*e.anchor.x:0},enumerable:!0,configurable:!0}),void 0===e.yAnchorOffset&&Object.defineProperty(e,"yAnchorOffset",{get:function(){return void 0!==e.anchor?e.height*e.anchor.y:0},enumerable:!0,configurable:!0}),e.circular&&void 0===e.radius&&Object.defineProperty(e,"radius",{get:function(){return e.width/2},enumerable:!0,configurable:!0})),e._bumpPropertiesAdded=!0}},{key:"hitTestPoint",value:function(e,t){var i,n,s,r,o,a;if(t._bumpPropertiesAdded||this.addCollisionProperties(t),"rectangle"===(i=t.radius?"circle":"rectangle")&&(n=t.x-t.xAnchorOffset,s=t.x+t.width-t.xAnchorOffset,r=t.y-t.yAnchorOffset,o=t.y+t.height-t.yAnchorOffset,a=e.x>n&&e.x<s&&e.y>r&&e.y<o),"circle"===i){var h=e.x-t.x-t.width/2+t.xAnchorOffset,c=e.y-t.y-t.height/2+t.yAnchorOffset;a=Math.sqrt(h*h+c*c)<t.radius}return a}},{key:"hitTestCircle",value:function(e,t){var i,n,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t),s?(i=t.gx+t.width/2-t.xAnchorOffset-(e.gx+e.width/2-e.xAnchorOffset),n=t.gy+t.width/2-t.yAnchorOffset-(e.gy+e.width/2-e.yAnchorOffset)):(i=t.x+t.width/2-t.xAnchorOffset-(e.x+e.width/2-e.xAnchorOffset),n=t.y+t.width/2-t.yAnchorOffset-(e.y+e.width/2-e.yAnchorOffset)),Math.sqrt(i*i+n*n)<e.radius+t.radius}},{key:"circleCollision",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t);var s,r,o,a,h,c,l,d={},f=!1;if(n?(a=t.gx+t.width/2-t.xAnchorOffset-(e.gx+e.width/2-e.xAnchorOffset),h=t.gy+t.width/2-t.yAnchorOffset-(e.gy+e.width/2-e.yAnchorOffset)):(a=t.x+t.width/2-t.xAnchorOffset-(e.x+e.width/2-e.xAnchorOffset),h=t.y+t.width/2-t.yAnchorOffset-(e.y+e.width/2-e.yAnchorOffset)),(s=Math.sqrt(a*a+h*h))<(r=e.radius+t.radius)){f=!0,o=r-s;var u=.3;o+=u,c=a/s,l=h/s,e.x-=o*c,e.y-=o*l,i&&(d.x=h,d.y=-a,this.bounceOffSurface(e,d))}return f}},{key:"movingCircleCollision",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t);var n,s,r,o,a={},h={},c={},l={},d={},f=!1;if(e.mass=e.mass||1,t.mass=t.mass||1,i?(a.vx=t.gx+t.radius-t.xAnchorOffset-(e.gx+e.radius-e.xAnchorOffset),a.vy=t.gy+t.radius-t.yAnchorOffset-(e.gy+e.radius-e.yAnchorOffset)):(a.vx=t.x+t.radius-t.xAnchorOffset-(e.x+e.radius-e.xAnchorOffset),a.vy=t.y+t.radius-t.yAnchorOffset-(e.y+e.radius-e.yAnchorOffset)),a.magnitude=Math.sqrt(a.vx*a.vx+a.vy*a.vy),n=e.radius+t.radius,a.magnitude<n){f=!0,s=n-a.magnitude,s+=.3,a.dx=a.vx/a.magnitude,a.dy=a.vy/a.magnitude,a.vxHalf=Math.abs(a.dx*s/2),a.vyHalf=Math.abs(a.dy*s/2),r=e.x>t.x?1:-1,o=e.y>t.y?1:-1,e.x=e.x+a.vxHalf*r,e.y=e.y+a.vyHalf*o,t.x=t.x+a.vxHalf*-r,t.y=t.y+a.vyHalf*-o,a.lx=a.vy,a.ly=-a.vx;var u=e.vx*a.dx+e.vy*a.dy;h.x=u*a.dx,h.y=u*a.dy;var y=e.vx*(a.lx/a.magnitude)+e.vy*(a.ly/a.magnitude);c.x=y*(a.lx/a.magnitude),c.y=y*(a.ly/a.magnitude);var p=t.vx*a.dx+t.vy*a.dy;l.x=p*a.dx,l.y=p*a.dy;var v=t.vx*(a.lx/a.magnitude)+t.vy*(a.ly/a.magnitude);d.x=v*(a.lx/a.magnitude),d.y=v*(a.ly/a.magnitude),e.bounce={},e.bounce.x=c.x+l.x,e.bounce.y=c.y+l.y,t.bounce={},t.bounce.x=h.x+d.x,t.bounce.y=h.y+d.y,e.vx=e.bounce.x/e.mass,e.vy=e.bounce.y/e.mass,t.vx=t.bounce.x/t.mass,t.vy=t.bounce.y/t.mass}return f}},{key:"multipleCircleCollision",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=0;i<e.length;i++)for(var n=e[i],s=i+1;s<e.length;s++){var r=e[s];this.movingCircleCollision(n,r,t)}}},{key:"rectangleCollision",value:function(e,t){var i,n,s,r,o,a,h,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t),l?(a=e.gx+Math.abs(e.halfWidth)-e.xAnchorOffset-(t.gx+Math.abs(t.halfWidth)-t.xAnchorOffset),h=e.gy+Math.abs(e.halfHeight)-e.yAnchorOffset-(t.gy+Math.abs(t.halfHeight)-t.yAnchorOffset)):(a=e.x+Math.abs(e.halfWidth)-e.xAnchorOffset-(t.x+Math.abs(t.halfWidth)-t.xAnchorOffset),h=e.y+Math.abs(e.halfHeight)-e.yAnchorOffset-(t.y+Math.abs(t.halfHeight)-t.yAnchorOffset)),n=Math.abs(e.halfWidth)+Math.abs(t.halfWidth),s=Math.abs(e.halfHeight)+Math.abs(t.halfHeight),Math.abs(a)<n&&Math.abs(h)<s&&((r=n-Math.abs(a))>=(o=s-Math.abs(h))?(h>0?(i="top",e.y=e.y+o):(i="bottom",e.y=e.y-o),c&&(e.vy*=-1)):(a>0?(i="left",e.x=e.x+r):(i="right",e.x=e.x-r),c&&(e.vx*=-1))),i}},{key:"hitTestRectangle",value:function(e,t){var i,n,s,r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e._bumpPropertiesAdded||this.addCollisionProperties(e),t._bumpPropertiesAdded||this.addCollisionProperties(t),!1,o?(s=e.gx+Math.abs(e.halfWidth)-e.xAnchorOffset-(t.gx+Math.abs(t.halfWidth)-t.xAnchorOffset),r=e.gy+Math.abs(e.halfHeight)-e.yAnchorOffset-(t.gy+Math.abs(t.halfHeight)-t.yAnchorOffset)):(s=e.x+Math.abs(e.halfWidth)-e.xAnchorOffset-(t.x+Math.abs(t.halfWidth)-t.xAnchorOffset),r=e.y+Math.abs(e.halfHeight)-e.yAnchorOffset-(t.y+Math.abs(t.halfHeight)-t.yAnchorOffset)),i=Math.abs(e.halfWidth)+Math.abs(t.halfWidth),n=Math.abs(e.halfHeight)+Math.abs(t.halfHeight),Math.abs(s)<i&&Math.abs(r)<n}},{key:"hitTestCircleRectangle",value:function(e,t){var i,n,s,r,o,a,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e),h?(s=e.gx,r=e.gy,o=t.gx,a=t.gy):(s=e.x,r=e.y,o=t.x,a=t.y),"topMiddle"===(i=r-e.yAnchorOffset<a-Math.abs(t.halfHeight)-t.yAnchorOffset?s-e.xAnchorOffset<o-1-Math.abs(t.halfWidth)-t.xAnchorOffset?"topLeft":s-e.xAnchorOffset>o+1+Math.abs(t.halfWidth)-t.xAnchorOffset?"topRight":"topMiddle":r-e.yAnchorOffset>a+Math.abs(t.halfHeight)-t.yAnchorOffset?s-e.xAnchorOffset<o-1-Math.abs(t.halfWidth)-t.xAnchorOffset?"bottomLeft":s-e.xAnchorOffset>o+1+Math.abs(t.halfWidth)-t.xAnchorOffset?"bottomRight":"bottomMiddle":s-e.xAnchorOffset<o-Math.abs(t.halfWidth)-t.xAnchorOffset?"leftMiddle":"rightMiddle")||"bottomMiddle"===i||"leftMiddle"===i||"rightMiddle"===i)n=this.hitTestRectangle(e,t,h);else{var c={};switch(i){case"topLeft":c.x=o-t.xAnchorOffset,c.y=a-t.yAnchorOffset;break;case"topRight":c.x=o+t.width-t.xAnchorOffset,c.y=a-t.yAnchorOffset;break;case"bottomLeft":c.x=o-t.xAnchorOffset,c.y=a+t.height-t.yAnchorOffset;break;case"bottomRight":c.x=o+t.width-t.xAnchorOffset,c.y=a+t.height-t.yAnchorOffset}n=this.hitTestCirclePoint(e,c,h)}return n?i:n}},{key:"hitTestCirclePoint",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e._bumpPropertiesAdded||this.addCollisionProperties(e),t.diameter=1,t.width=t.diameter,t.radius=.5,t.centerX=t.x,t.centerY=t.y,t.gx=t.x,t.gy=t.y,t.xAnchorOffset=0,t.yAnchorOffset=0,t._bumpPropertiesAdded=!0,this.hitTestCircle(e,t,i)}},{key:"circleRectangleCollision",value:function(e,t){var i,n,s,r,o,a,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t._bumpPropertiesAdded||this.addCollisionProperties(t),e._bumpPropertiesAdded||this.addCollisionProperties(e),c?(s=e.gx,r=e.gy,o=t.gx,a=t.gy):(s=e.x,r=e.y,o=t.x,a=t.y),"topMiddle"===(i=r-e.yAnchorOffset<a-Math.abs(t.halfHeight)-t.yAnchorOffset?s-e.xAnchorOffset<o-1-Math.abs(t.halfWidth)-t.xAnchorOffset?"topLeft":s-e.xAnchorOffset>o+1+Math.abs(t.halfWidth)-t.xAnchorOffset?"topRight":"topMiddle":r-e.yAnchorOffset>a+Math.abs(t.halfHeight)-t.yAnchorOffset?s-e.xAnchorOffset<o-1-Math.abs(t.halfWidth)-t.xAnchorOffset?"bottomLeft":s-e.xAnchorOffset>o+1+Math.abs(t.halfWidth)-t.xAnchorOffset?"bottomRight":"bottomMiddle":s-e.xAnchorOffset<o-Math.abs(t.halfWidth)-t.xAnchorOffset?"leftMiddle":"rightMiddle")||"bottomMiddle"===i||"leftMiddle"===i||"rightMiddle"===i)n=this.rectangleCollision(e,t,h,c);else{var l={};switch(i){case"topLeft":l.x=o-t.xAnchorOffset,l.y=a-t.yAnchorOffset;break;case"topRight":l.x=o+t.width-t.xAnchorOffset,l.y=a-t.yAnchorOffset;break;case"bottomLeft":l.x=o-t.xAnchorOffset,l.y=a+t.height-t.yAnchorOffset;break;case"bottomRight":l.x=o+t.width-t.xAnchorOffset,l.y=a+t.height-t.yAnchorOffset}n=this.circlePointCollision(e,l,h,c)}return n?i:n}},{key:"circlePointCollision",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e._bumpPropertiesAdded||this.addCollisionProperties(e),t.diameter=1,t.width=t.diameter,t.radius=.5,t.centerX=t.x,t.centerY=t.y,t.gx=t.x,t.gy=t.y,t.xAnchorOffset=0,t.yAnchorOffset=0,t._bumpPropertiesAdded=!0,this.circleCollision(e,t,i,n)}},{key:"bounceOffSurface",value:function(e,t){e._bumpPropertiesAdded||this.addCollisionProperties(e);var i,n,s={},r={},o={},a=e.mass||1;t.lx=t.y,t.ly=-t.x,t.magnitude=Math.sqrt(t.x*t.x+t.y*t.y),t.dx=t.x/t.magnitude,t.dy=t.y/t.magnitude,i=e.vx*t.dx+e.vy*t.dy,s.vx=i*t.dx,s.vy=i*t.dy,n=e.vx*(t.lx/t.magnitude)+e.vy*(t.ly/t.magnitude),r.vx=n*(t.lx/t.magnitude),r.vy=n*(t.ly/t.magnitude),r.vx*=-1,r.vy*=-1,o.x=s.vx+r.vx,o.y=s.vy+r.vy,e.vx=o.x/a,e.vy=o.y/a}},{key:"contain",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e._bumpPropertiesAdded||this.addCollisionProperties(e),void 0===t.xAnchorOffset&&(t.xAnchorOffset=0),void 0===t.yAnchorOffset&&(t.yAnchorOffset=0),void 0===e.parent.gx&&(e.parent.gx=0),void 0===e.parent.gy&&(e.parent.gy=0);var s=new Set;return e.x-e.xAnchorOffset<t.x-e.parent.gx-t.xAnchorOffset&&(i&&(e.vx*=-1),e.mass&&(e.vx/=e.mass),e.x=t.x-e.parent.gx-t.xAnchorOffset+e.xAnchorOffset,s.add("left")),e.y-e.yAnchorOffset<t.y-e.parent.gy-t.yAnchorOffset&&(i&&(e.vy*=-1),e.mass&&(e.vy/=e.mass),e.y=t.y-e.parent.gy-t.yAnchorOffset+e.yAnchorOffset,s.add("top")),e.x-e.xAnchorOffset+e.width>t.width-t.xAnchorOffset&&(i&&(e.vx*=-1),e.mass&&(e.vx/=e.mass),e.x=t.width-e.width-t.xAnchorOffset+e.xAnchorOffset,s.add("right")),e.y-e.yAnchorOffset+e.height>t.height-t.yAnchorOffset&&(i&&(e.vy*=-1),e.mass&&(e.vy/=e.mass),e.y=t.height-e.height-t.yAnchorOffset+e.yAnchorOffset,s.add("bottom")),0===s.size&&(s=void 0),s&&n&&n(s),s}},{key:"outsideBounds",value:function(e,t,i){var n=t.x,s=t.y,r=t.width,o=t.height,a=new Set;return e.x<n-e.width&&a.add("left"),e.y<s-e.height&&a.add("top"),e.x>r+e.width&&a.add("right"),e.y>o+e.height&&a.add("bottom"),0===a.size&&(a=void 0),a&&i&&i(a),a}},{key:"_getCenter",value:function(e,t,i){return void 0!==e.anchor?0!==e.anchor[i]?0:t/2:t}},{key:"hit",value:function(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=this.hitTestPoint.bind(this),h=this.hitTestRectangle.bind(this),c=this.hitTestCircle.bind(this),l=this.movingCircleCollision.bind(this),d=this.circleCollision.bind(this),f=this.hitTestCircleRectangle.bind(this),u=this.rectangleCollision.bind(this),y=this.circleRectangleCollision.bind(this),p=void 0!==e.parent,v=void 0!==t.parent;return p&&t instanceof Array||v&&e instanceof Array?g():(i=x(e,t))&&o&&o(i),i;function x(e,t){var i=void 0!==e.parent,n=void 0!==t.parent;if(i&&n)return e.diameter&&t.diameter?m(e,t):e.diameter&&!t.diameter?O(e,t):b(e,t);if(n&&void 0!==e.x&&void 0!==e.y)return a(e,t);throw new Error("I'm sorry, ".concat(e," and ").concat(t," cannot be use together in a collision test.'"))}function g(){if(e instanceof Array);for(var n=t.length-1;n>=0;n--){var s=t[n];(i=x(e,s))&&o&&o(i,s)}}function m(e,t){return n?e.vx+e.vy!==0&&t.vx+t.vy!==0?l(e,t,r):d(e,t,s,r):c(e,t)}function b(e,t){return n?u(e,t,s,r):h(e,t,r)}function O(e,t){return n?y(e,t,s,r):f(e,t,r)}}}]),e}())(d),y=new d.Container,p=700,v=700,x=[100,300],g=[.003,.002],m=d.autoDetectRenderer(p,v,{antialias:!1,transparent:!1,resolution:1,autoResize:!0});document.getElementById("canvas-wrapper").appendChild(m.view);var b={},O={},A=function(e){var t=b[e];if(t)return t;throw"no texture with that name"},w=function(e){return e*(Math.PI/180)};window.onkeydown=function(e){return e.preventDefault(),!1};var k=function(){return m.render(y)},S=function(){function e(){Object(c.a)(this,e),this.scene=new d.Container,this.setScene()}return Object(l.a)(e,[{key:"progressText",value:function(e){return"".concat(e,"% loaded")}}]),Object(l.a)(e,[{key:"setScene",value:function(){this.text=new d.Text("Score: ".concat(this.score),{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),this.text.anchor.x=.5,this.text.anchor.y=.5,this.text.x=p/2,this.text.y=v/2,this.scene.addChild(this.text),y.addChild(this.scene)}},{key:"loadProgress",value:function(e,t){this.text.text=this.progressText(parseInt(e.progress)-1),k()}}]),e}(),C=i(27),M=i(9),P=i(10),j={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause_break:19,capslock:20,escape:27,space:32,page_up:33,page_down:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,left_window:91,right_window:92,select_key:93,numpad_0:96,numpad_1:97,numpad_2:98,numpad_3:99,numpad_4:100,numpad_5:101,numpad_6:102,numpad_7:103,numpad_8:104,numpad_9:105,multiply:106,add:107,subtract:109,decimal_point:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,num_lock:144,scroll_lock:145,semicolon:186,equal_sign:187,comma:188,dash:189,period:190,forward_slash:191,grave_accent:192,open_bracket:219,back_slash:220,close_braket:221,single_quote:222},_=function e(t){var i=t.key,n=void 0===i?null:i,s=t.onPress,r=void 0===s?function(){}:s,o=t.onRelease,a=void 0===o?function(){}:o;if(Object(c.a)(this,e),!j[n])throw"key does not exist";return(n=function(e){var t={};return t.code=e,t.isDown=!1,t.isUp=!0,t.press=void 0,t.release=void 0,t.downHandler=function(e){t.code===e.keyCode&&t.isUp&&t.press&&(t.press(e),t.isDown=!0,t.isUp=!1,e.preventDefault())},t.upHandler=function(e){t.code===e.keyCode&&t.isDown&&t.release&&(t.release(e),t.isDown=!1,t.isUp=!0,e.preventDefault())},window.addEventListener("keydown",t.downHandler.bind(t),!1),window.addEventListener("keyup",t.upHandler.bind(t),!1),t}(j[n])).press=r,n.release=a,n},H=function(){function e(t){Object(c.a)(this,e),this.scene=t}return Object(l.a)(e,[{key:"setPosition",value:function(e,t){this.x=e,this.y=t,this.sprite&&(this.sprite.x=e,this.sprite.y=t,this.center={x:e+this.width/2,y:t+this.height/2},this.circular&&(this.sprite.circular=!0,this.sprite.centerX=this.x,this.sprite.centerY=this.y),this.sprite.xAnchorOffset=this.sprite.width-this.sprite.pivot.x,this.sprite.yAnchorOffset=this.sprite.height-this.sprite.pivot.y,this.leftFacing?this.sprite.scale.x=-1:this.sprite.scale.x=1)}},{key:"createSprite",value:function(){this.sprite&&this.scene.removeChild(this.sprite),this.width=this.texture.width,this.height=this.texture.height,this.sprite=new d.Sprite(this.texture),this.setPivot(this.pivot,this.pivot),this.addSprite()}},{key:"createAnimatedSprite",value:function(e){var t=e.numOfSheets,i=void 0===t?0:t,n=e.speed,s=void 0===n?1:n,r=e.loop,o=void 0===r||r,a=e.name,h=void 0===a?null:a;this.sprite&&this.scene.removeChild(this.sprite);for(var c=[],l=0;l<i;l++)c.push(d.Texture.fromFrame("".concat(h).concat(l,".png")));this.width=c[0].width,this.height=c[0].height,this.sprite=new d.extras.AnimatedSprite(c),this.circular&&(this.sprite.circular=!0),this.sprite.animationSpeed=s,this.sprite.loop=o,this.sprite.play(),this.setPivot(this.pivot,this.pivot),this.addSprite()}},{key:"setPivot",value:function(e,t){this.pivot&&(this.sprite.pivot.x=this.pivot.x,this.sprite.pivot.y=this.pivot.y)}},{key:"gameLoop",value:function(){}},{key:"addSprite",value:function(){this.scene.addChild(this.sprite)}},{key:"removeSprite",value:function(){this.scene.removeChild(this.sprite)}},{key:"getInput",value:function(e){return new _(e)}}]),e}(),T=function(e){Object(P.a)(i,e);var t=Object(M.a)(i);function i(){var e;Object(c.a)(this,i);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).circular=!0,e}return i}(H),L=function(e){Object(P.a)(i,e);var t=Object(M.a)(i);function i(e){var n,s=e.x,r=void 0===s?0:s,o=e.y,a=void 0===o?0:o,h=e.radius,l=void 0===h?100:h,d=e.scene,f=void 0===d?null:d;return Object(c.a)(this,i),(n=t.call(this,f)).name="planet",n.radius=l,n.pivot={x:n.radius,y:n.radius},n.createSprite(),n.sprite.radius=n.radius-10,n.setPosition(r,a),n}return Object(l.a)(i,[{key:"texture",get:function(){return A(this.name)}}]),i}(T),W=i(12),R=i(34),I=function(e){Object(P.a)(i,e);var t=Object(M.a)(i);function i(e){var n,s=e.x,r=void 0===s?0:s,o=e.y,a=void 0===o?0:o,h=e.scene,l=void 0===h?null:h,d=e.angle,f=void 0===d?null:d,u=e.rotation,y=void 0===u?0:u;return Object(c.a)(this,i),(n=t.call(this,l)).name="dinonaut",n.texture=A(n.name),n.radius=n.texture.height/2,n.pivot={x:n.texture.width/2,y:n.texture.height},n.angle=f,n.rotation=y,n.setControls(),n.createSprite(),n.setPosition(r,a),n}return Object(l.a)(i,[{key:"setControls",value:function(){this.left=this.getInput({key:"left",onPress:this.walkLeft.bind(this),onRelease:this.unwalk.bind(this)}),this.right=this.getInput({key:"right",onPress:this.walkRight.bind(this),onRelease:this.unwalk.bind(this)}),this.space=this.getInput({key:"space",onPress:this.activateShield.bind(this),onRelease:this.deactivateShield.bind(this)})}}]),Object(l.a)(i,[{key:"setPosition",value:function(e,t){this.sprite.rotation=w(this.rotation),Object(R.a)(Object(W.a)(i.prototype),"setPosition",this).call(this,e,t),this.sprite.radius=40}},{key:"setSprite",value:function(){this.texture=A(this.name),this.createSprite(),this.setPosition(this.x,this.y)}},{key:"moveLeft",value:function(e){this.angle-=e,this.rotation-=e}},{key:"moveRight",value:function(e){this.angle+=e,this.rotation+=e}},{key:"canWalk",value:function(){return!this.shielding}},{key:"walkLeft",value:function(){this.leftFacing=!0,this.walk()}},{key:"walkRight",value:function(){this.leftFacing=!1,this.walk()}},{key:"walk",value:function(){this.canWalk()&&(this.walking=!0,this.createAnimatedSprite({numOfSheets:2,speed:.1,name:"dinonautwalking"}),this.setPosition(this.x,this.y))}},{key:"unwalk",value:function(){this.canWalk()&&this.setSprite()}},{key:"activateShield",value:function(e){this.createAnimatedSprite({numOfSheets:3,speed:.25,loop:!1,name:"dinonautshield"}),this.setPosition(this.x,this.y),this.shielding=!0}},{key:"deactivateShield",value:function(e){this.setSprite(),this.shielding=!1,this.walking&&this.walk()}}]),i}(T),F=function(e){Object(P.a)(i,e);var t=Object(M.a)(i);function i(e){var n,s,r,o=e.x,h=e.y,l=e.scene,d=void 0===l?null:l,f=e.planet,u=void 0===f?null:f;Object(c.a)(this,i),(n=t.call(this,d)).planet=u,n.radius=n.texture.width/2,n.rotation=C.a.random(0,359),n.rotationSpeed=C.a.random(-5,5),n.pivot={x:n.radius,y:n.radius};var y=n.getStartPosition();s=y.x,r=y.y,n.createAnimatedSprite({numOfSheets:3,speed:.2,name:"meteor"}),n.setPosition(s,r);var p=n.calculateTrajectory(),v=Object(a.a)(p,2);return n.sprite.vx=v[0],n.sprite.vy=v[1],n}return Object(l.a)(i,[{key:"texture",get:function(){return A("meteorImg")}}]),Object(l.a)(i,[{key:"calculateTrajectory",value:function(){var e=Math.random()*(g[0]-g[1])+g[0],t=this.x,i=this.y;return[e*(this.planet.x-t),e*(this.planet.y-i)]}},{key:"getStartPosition",value:function(){return function(){var e=p,t=v,i={},n=Math.floor(Math.random()*(e+e+t+t));return n<e+t?n<e?(i.x=n,i.y=0):(i.x=e,i.y=n-e):(n-=e+t)<e?(i.x=e-n,i.y=t):(i.x=0,i.y=t-(n-e)),i}()}},{key:"setPosition",value:function(e,t){this.sprite.rotation=w(this.rotation),Object(R.a)(Object(W.a)(i.prototype),"setPosition",this).call(this,e,t)}},{key:"isOutOfBounds",value:function(){if(this.x<-50||this.x>p+50||this.y<-50||this.y>v+50)return!0}},{key:"explode",value:function(e){var t=this,i=e.deleteMeteor,n=void 0===i?null:i,s=e.soundExplosion,r=void 0===s||s,o=e.pointSound,a=void 0===o||o,h=e.gameOver,c=void 0===h?null:h;this.exploding=!0,this.removeSprite(),r?(O.explosionsound.play(),this.createAnimatedSprite({numOfSheets:6,speed:.1,name:"explosion1",loop:!1}),this.sprite.onComplete=function(){if(c)return c();t.removeSprite(),n&&n(t),O.point.play()},this.setPosition(this.x,this.y)):n&&n(this),a&&O.point.play()}},{key:"gameLoop",value:function(e){var t=e.planet,i=void 0===t?null:t,n=e.player,s=void 0===n?null:n,r=e.meteors,o=void 0===r?null:r,a=e.deleteMeteor,c=void 0===a?null:a,l=e.gameOver,d=void 0===l?null:l;if(!this.isOutOfBounds()||this.exploding){!s.shielding||this.deflected||this.exploding||u.circleCollision(this.sprite,s.sprite,!0)&&(O.shield.play(),this.deflected=!0),this.exploding||u.circleCollision(this.sprite,i.sprite)&&this.explode({deleteMeteor:c,soundExplosion:!0,pointSound:!1,gameOver:d});var f,y=Object(h.a)(o);try{for(y.s();!(f=y.n()).done;){var p=f.value;p===this||p.exploding||u.circleCollision(this.sprite,p.sprite)&&(this.explode({deleteMeteor:c}),p.explode({deleteMeteor:c}))}}catch(g){y.e(g)}finally{y.f()}if(!this.exploding){var v=this.x+this.sprite.vx,x=this.y+this.sprite.vy;this.rotation+=this.rotationSpeed,this.setPosition(v,x)}}else this.explode({deleteMeteor:c,soundExplosion:!1})}}]),i}(T),G=function(){function e(t){var i=t.gameOver,n=void 0===i?function(){}:i;Object(c.a)(this,e),this.scene=new d.Container,this.score=0,this.gameOver=n,this.setScene()}return Object(l.a)(e,[{key:"setScene",value:function(){this.scoreCard=new d.Text("Score: 0",{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),this.scoreCard.x=20,this.scoreCard.y=20,this.scene.addChild(this.scoreCard),this.planet=new L({scene:this.scene,x:p/2,y:v/2}),this.player=new I({scene:this.scene,x:this.planet.x,y:this.planet.y-this.planet.radius,angle:270}),this.playerSpeed=2,this.meteors=[],this.meteorInterval=x.slice(),this.setNewMeteorInterval(),this.objects=[this.planet,this.player],y.addChildAt(this.scene,y.children.length-1)}},{key:"handlePlayerPosition",value:function(){var e=null;if(this.player.left.isDown&&!this.player.shielding?(this.player.moveLeft(this.playerSpeed),e=!0):this.player.right.isDown&&!this.player.shielding&&(this.player.moveRight(this.playerSpeed),e=!0),e){var t=this.planet.x+this.planet.radius*Math.cos(w(this.player.angle)),i=this.planet.y+this.planet.radius*Math.sin(w(this.player.angle));this.player.setPosition(t,i)}}},{key:"shouldFireMeteor",value:function(){if(this.timeSinceLastMeteor===this.currentMeteorInterval)return!0}},{key:"setNewMeteorInterval",value:function(){this.meteorInterval[0]=Math.ceil(.97*this.meteorInterval[0]),this.meteorInterval[1]=Math.ceil(.97*this.meteorInterval[1]),this.playerSpeed+=.1,this.currentMeteorInterval=C.a.random(this.meteorInterval[0],this.meteorInterval[1]),this.timeSinceLastMeteor=0}},{key:"handleMeteors",value:function(){this.shouldFireMeteor()?(this.meteors.push(new F({scene:this.scene,planet:this.planet})),this.setNewMeteorInterval()):this.timeSinceLastMeteor++;var e,t=Object(h.a)(this.meteors);try{for(t.s();!(e=t.n()).done;){e.value.gameLoop({planet:this.planet,player:this.player,meteors:this.meteors,deleteMeteor:this.deleteMeteor.bind(this),gameOver:this.gameOver})}}catch(r){t.e(r)}finally{t.f()}for(var i=0,n=[];i<n.length;i++){var s=n[i];this.deleteMeteor(s)}}},{key:"deleteMeteor",value:function(e){this.meteors.splice(this.meteors.indexOf(e),1),this.score+=1,this.scoreCard.text="Score: ".concat(this.score)}},{key:"gameLoop",value:function(){var e,t=Object(h.a)(this.objects);try{for(t.s();!(e=t.n()).done;){e.value.gameLoop()}}catch(i){t.e(i)}finally{t.f()}this.handlePlayerPosition(),this.handleMeteors()}}]),e}(),z=function(){function e(t){var i=t.newGame,n=void 0===i?function(){}:i;Object(c.a)(this,e),this.scene=new d.Container,this.newGame=n,this.setScene()}return Object(l.a)(e,[{key:"setScene",value:function(){var e=this;this.title=new d.Text("Dinonaut:",{fontFamily:"Arial",fontSize:40,fill:9631347,align:"center"}),this.title.anchor.x=.5,this.title.anchor.y=.5,this.title.x=p/2,this.title.y=200,this.subtitle=new d.Text("Defender of Celestial Dwarves",{fontFamily:"Arial",fontSize:30,fill:9631347,align:"center"}),this.subtitle.anchor.x=.5,this.subtitle.anchor.y=.5,this.subtitle.x=p/2,this.subtitle.y=250,this.instructions=new d.Text("Left and Right arrow keys to move.",{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),this.instructions.anchor.x=.5,this.instructions.anchor.y=.5,this.instructions.x=p/2,this.instructions.y=v-230,this.instructions2=new d.Text("Space bar to defend.",{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),this.instructions2.anchor.x=.5,this.instructions2.anchor.y=.5,this.instructions2.x=p/2,this.instructions2.y=v-200,this.text=new d.Text("Start Game",{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),this.text.interactive=!0,this.text.cursor="pointer",this.text.anchor.x=.5,this.text.anchor.y=.5,this.text.x=p/2,this.text.y=v/2,this.text.on("click",(function(){e.newGame()})),this.text.on("mouseover",(function(){e.text.style.fill=16776960})),this.text.on("mouseout",(function(){e.text.style.fill=16777215})),this.scene.addChild(this.title),this.scene.addChild(this.subtitle),this.scene.addChild(this.instructions),this.scene.addChild(this.instructions2),this.scene.addChild(this.text),y.addChildAt(this.scene,y.children.length-1)}}]),e}(),D=function(){function e(t){var i=t.newGame,n=void 0===i?function(){}:i,s=t.score,r=void 0===s?0:s,o=t.highScore,a=void 0===o?0:o,h=t.maxSpeed,l=void 0===h?0:h;Object(c.a)(this,e),this.scene=new d.Container,this.score=r,this.highScore=a,this.maxSpeed=l,this.newGame=n,this.setScene()}return Object(l.a)(e,[{key:"setScene",value:function(){var e=this;this.highScoreCard=new d.Text("High Score: ".concat(this.highScore),{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),this.highScoreCard.anchor.x=.5,this.highScoreCard.anchor.y=.5,this.highScoreCard.x=p/2,this.highScoreCard.y=v/2-25,this.scoreCard=new d.Text("Score: ".concat(this.score,"  -   Top Speed: ").concat(this.maxSpeed.toFixed(1)),{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),this.scoreCard.anchor.x=.5,this.scoreCard.anchor.y=.5,this.scoreCard.x=p/2,this.scoreCard.y=v/2+25,this.replay=new d.Text("Replay",{fontFamily:"Arial",fontSize:24,fill:16777215,align:"center"}),this.replay.interactive=!0,this.replay.cursor="pointer",this.replay.anchor.x=.5,this.replay.anchor.y=.5,this.replay.x=p/2,this.replay.y=v/2+100,this.replay.on("click",(function(){e.newGame()})),this.replay.on("mouseover",(function(){e.replay.style.fill=16776960})),this.replay.on("mouseout",(function(){e.replay.style.fill=16777215})),this.scene.addChild(this.highScoreCard),this.scene.addChild(this.scoreCard),this.scene.addChild(this.replay),y.addChildAt(this.scene,y.children.length-1)}}]),e}(),E=function(e){Object(P.a)(i,e);var t=Object(M.a)(i);function i(e){var n,s=e.x,r=void 0===s?0:s,o=e.y,a=void 0===o?0:o,h=e.scene,l=void 0===h?null:h;return Object(c.a)(this,i),(n=t.call(this,l)).name="background",n.setPosition(r,a),n.createAnimatedSprite({numOfSheets:63,speed:.3,name:n.name}),n}return Object(l.a)(i,[{key:"texture",get:function(){return A(this.name)}}]),i}(H),q=function(){function e(){Object(c.a)(this,e),this.scene=new d.Container,this.setScene()}return Object(l.a)(e,[{key:"setScene",value:function(){this.background=new E({scene:this.scene}),y.addChildAt(this.scene,y.children.length-1)}},{key:"gameLoop",value:function(){}}]),e}(),B=function(e){Object(P.a)(i,e);var t=Object(M.a)(i);function i(e){e.x,e.y;var n,s=e.scene,r=void 0===s?null:s;return Object(c.a)(this,i),(n=t.call(this,r)).name="speaker",n.makeSprite(),n}return Object(l.a)(i,[{key:"makeSprite",value:function(){var e=this;this.texture=A(this.name),this.createSprite(),this.sprite.interactive=!0,this.setPosition(p-40,20),this.sprite.on("click",(function(){"speaker"===e.name?(e.name="speaker_off",e.muteSounds(!0)):(e.name="speaker",e.muteSounds(!1)),e.makeSprite()})),this.sprite.on("mouseover",(function(){document.body.style.cursor="pointer"})),this.sprite.on("mouseout",(function(){document.body.style.cursor="initial"}))}},{key:"muteSounds",value:function(e){Object.keys(O).forEach((function(t){O[t].mute(e)}))}}]),i}(H),X=function(){function e(){Object(c.a)(this,e),this.scene=new d.Container,this.setScene()}return Object(l.a)(e,[{key:"setScene",value:function(){this.speaker=new B({scene:this.scene}),y.addChild(this.scene)}}]),e}(),Y=function(){function e(){Object(c.a)(this,e),this.images=[["speaker","speaker.png"],["speaker_off","speaker_off.png"],["dinonaut","dinonaut.png"],["planet","planet.png"],["meteorImg","meteor.png"],["meteor","meteor/meteor.json"],["background","background/background.json"],["dinonautshield","dinonautshield/dinonautshield.json"],["dinonautwalking","dinonautwalking/dinonautwalking.json"],["explosion1","explosion1/explosion1.json"]],this.sounds=[["dinonauttheme","dinonauttheme.ogg",!0,null,this.setupGame.bind(this),!0],["explosionsound","explosionsound.mp3"],["point","point.mp3"],["shield","shield.mp3",!1,1]],this.highScore=0,k(),this.loadScreen=new S,this.loadAssets()}return Object(l.a)(e,[{key:"loadAssets",value:function(){var e,t=d.loader,i=Object(h.a)(this.images);try{for(i.s();!(e=i.n()).done;){var n=Object(a.a)(e.value,2),s=n[0],r=n[1];t.add(s,r)}}catch(o){i.e(o)}finally{i.f()}t.on("progress",this.loadScreen.loadProgress.bind(this.loadScreen)).load(this.setSounds.bind(this))}},{key:"setTextures",value:function(){var e,t=Object(h.a)(this.images);try{for(t.s();!(e=t.n()).done;){var i=Object(a.a)(e.value,2),n=i[0];i[1];b[n]=d.loader.resources[n].texture}}catch(s){t.e(s)}finally{t.f()}}},{key:"setSounds",value:function(){var e,t=Object(h.a)(this.sounds);try{for(t.s();!(e=t.n()).done;){var i=Object(a.a)(e.value,6),n=i[0],s=i[1],r=i[2],o=i[3],c=i[4],l=i[5];O[n]=new f.Howl({src:[s],loop:r||!1,volume:o||.3,onload:c||function(){},autoplay:l||!1})}}catch(d){t.e(d)}finally{t.f()}}},{key:"removeCurrentScene",value:function(){this.currentScene&&y.removeChild(this.currentScene.scene)}},{key:"gameOver",value:function(){this.gameIsOver||(this.gameIsOver=!0,this.removeCurrentScene(),this.score=this.currentScene.score,this.maxSpeed=this.currentScene.playerSpeed,this.score>this.highScore&&(this.highScore=this.score),this.currentScene=new D({newGame:this.newGame.bind(this),score:this.score,highScore:this.highScore,maxSpeed:this.maxSpeed}),k())}},{key:"newGame",value:function(){this.gameIsOver=!1,this.removeCurrentScene(),this.currentScene=new G({gameOver:this.gameOver.bind(this)}),k()}},{key:"menuScreen",value:function(){this.removeCurrentScene(),this.currentScene=new z({newGame:this.newGame.bind(this)}),k()}},{key:"setupGame",value:function(){this.setTextures(),y.removeChild(this.loadScreen.scene),this.foreground=new X,this.background=new q,this.menuScreen(),this.gameLoop()}},{key:"gameLoop",value:function(){requestAnimationFrame(this.gameLoop.bind(this)),this.currentScene.gameLoop&&this.currentScene.gameLoop(),k()}}]),e}();var U=function(){return new Y,null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(U,null)),document.getElementById("app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[104,1,2]]]);
//# sourceMappingURL=main.7efd2d3c.chunk.js.map